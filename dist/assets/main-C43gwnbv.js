(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))x(A);new MutationObserver(A=>{for(const T of A)if(T.type==="childList")for(const R of T.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&x(R)}).observe(document,{childList:!0,subtree:!0});function C(A){const T={};return A.integrity&&(T.integrity=A.integrity),A.referrerPolicy&&(T.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?T.credentials="include":A.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function x(A){if(A.ep)return;A.ep=!0;const T=C(A);fetch(A.href,T)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bt(tt){return tt&&tt.__esModule&&Object.prototype.hasOwnProperty.call(tt,"default")?tt.default:tt}var _t={exports:{}};(function(tt,w){(function(C,x){tt.exports=x()})(yt,()=>(()=>{var C={873:(R,F)=>{var Y,ut,st=function(){var V=function(g,u){var d=g,e=rt[u],t=null,r=0,n=null,i=[],a={},p=function(o,h){t=function(s){for(var l=new Array(s),c=0;c<s;c+=1){l[c]=new Array(s);for(var b=0;b<s;b+=1)l[c][b]=null}return l}(r=4*d+17),f(0,0),f(r-7,0),f(0,r-7),v(),_(),m(o,h),d>=7&&y(o),n==null&&(n=$(d,e,i)),S(n,h)},f=function(o,h){for(var s=-1;s<=7;s+=1)if(!(o+s<=-1||r<=o+s))for(var l=-1;l<=7;l+=1)h+l<=-1||r<=h+l||(t[o+s][h+l]=0<=s&&s<=6&&(l==0||l==6)||0<=l&&l<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=l&&l<=4)},_=function(){for(var o=8;o<r-8;o+=1)t[o][6]==null&&(t[o][6]=o%2==0);for(var h=8;h<r-8;h+=1)t[6][h]==null&&(t[6][h]=h%2==0)},v=function(){for(var o=U.getPatternPosition(d),h=0;h<o.length;h+=1)for(var s=0;s<o.length;s+=1){var l=o[h],c=o[s];if(t[l][c]==null)for(var b=-2;b<=2;b+=1)for(var O=-2;O<=2;O+=1)t[l+b][c+O]=b==-2||b==2||O==-2||O==2||b==0&&O==0}},y=function(o){for(var h=U.getBCHTypeNumber(d),s=0;s<18;s+=1){var l=!o&&(h>>s&1)==1;t[Math.floor(s/3)][s%3+r-8-3]=l}for(s=0;s<18;s+=1)l=!o&&(h>>s&1)==1,t[s%3+r-8-3][Math.floor(s/3)]=l},m=function(o,h){for(var s=e<<3|h,l=U.getBCHTypeInfo(s),c=0;c<15;c+=1){var b=!o&&(l>>c&1)==1;c<6?t[c][8]=b:c<8?t[c+1][8]=b:t[r-15+c][8]=b}for(c=0;c<15;c+=1)b=!o&&(l>>c&1)==1,c<8?t[8][r-c-1]=b:c<9?t[8][15-c-1+1]=b:t[8][15-c-1]=b;t[r-8][8]=!o},S=function(o,h){for(var s=-1,l=r-1,c=7,b=0,O=U.getMaskFunction(h),B=r-1;B>0;B-=2)for(B==6&&(B-=1);;){for(var D=0;D<2;D+=1)if(t[l][B-D]==null){var k=!1;b<o.length&&(k=(o[b]>>>c&1)==1),O(l,B-D)&&(k=!k),t[l][B-D]=k,(c-=1)==-1&&(b+=1,c=7)}if((l+=s)<0||r<=l){l-=s,s=-s;break}}},$=function(o,h,s){for(var l=ct.getRSBlocks(o,h),c=at(),b=0;b<s.length;b+=1){var O=s[b];c.put(O.getMode(),4),c.put(O.getLength(),U.getLengthInBits(O.getMode(),o)),O.write(c)}var B=0;for(b=0;b<l.length;b+=1)B+=l[b].dataCount;if(c.getLengthInBits()>8*B)throw"code length overflow. ("+c.getLengthInBits()+">"+8*B+")";for(c.getLengthInBits()+4<=8*B&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*B||(c.put(236,8),c.getLengthInBits()>=8*B));)c.put(17,8);return function(D,k){for(var z=0,H=0,N=0,P=new Array(k.length),E=new Array(k.length),I=0;I<k.length;I+=1){var j=k[I].dataCount,Q=k[I].totalCount-j;H=Math.max(H,j),N=Math.max(N,Q),P[I]=new Array(j);for(var q=0;q<P[I].length;q+=1)P[I][q]=255&D.getBuffer()[q+z];z+=j;var Z=U.getErrorCorrectPolynomial(Q),W=nt(P[I],Z.getLength()-1).mod(Z);for(E[I]=new Array(Z.getLength()-1),q=0;q<E[I].length;q+=1){var G=q+W.getLength()-E[I].length;E[I][q]=G>=0?W.getAt(G):0}}var vt=0;for(q=0;q<k.length;q+=1)vt+=k[q].totalCount;var lt=new Array(vt),it=0;for(q=0;q<H;q+=1)for(I=0;I<k.length;I+=1)q<P[I].length&&(lt[it]=P[I][q],it+=1);for(q=0;q<N;q+=1)for(I=0;I<k.length;I+=1)q<E[I].length&&(lt[it]=E[I][q],it+=1);return lt}(c,l)};a.addData=function(o,h){var s=null;switch(h=h||"Byte"){case"Numeric":s=gt(o);break;case"Alphanumeric":s=ft(o);break;case"Byte":s=dt(o);break;case"Kanji":s=pt(o);break;default:throw"mode:"+h}i.push(s),n=null},a.isDark=function(o,h){if(o<0||r<=o||h<0||r<=h)throw o+","+h;return t[o][h]},a.getModuleCount=function(){return r},a.make=function(){if(d<1){for(var o=1;o<40;o++){for(var h=ct.getRSBlocks(o,e),s=at(),l=0;l<i.length;l++){var c=i[l];s.put(c.getMode(),4),s.put(c.getLength(),U.getLengthInBits(c.getMode(),o)),c.write(s)}var b=0;for(l=0;l<h.length;l++)b+=h[l].dataCount;if(s.getLengthInBits()<=8*b)break}d=o}p(!1,function(){for(var O=0,B=0,D=0;D<8;D+=1){p(!0,D);var k=U.getLostPoint(a);(D==0||O>k)&&(O=k,B=D)}return B}())},a.createTableTag=function(o,h){o=o||2;var s="";s+='<table style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: "+(h=h===void 0?4*o:h)+"px;",s+='">',s+="<tbody>";for(var l=0;l<a.getModuleCount();l+=1){s+="<tr>";for(var c=0;c<a.getModuleCount();c+=1)s+='<td style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: 0px;",s+=" width: "+o+"px;",s+=" height: "+o+"px;",s+=" background-color: ",s+=a.isDark(l,c)?"#000000":"#ffffff",s+=";",s+='"/>';s+="</tr>"}return(s+="</tbody>")+"</table>"},a.createSvgTag=function(o,h,s,l){var c={};typeof arguments[0]=="object"&&(o=(c=arguments[0]).cellSize,h=c.margin,s=c.alt,l=c.title),o=o||2,h=h===void 0?4*o:h,(s=typeof s=="string"?{text:s}:s||{}).text=s.text||null,s.id=s.text?s.id||"qrcode-description":null,(l=typeof l=="string"?{text:l}:l||{}).text=l.text||null,l.id=l.text?l.id||"qrcode-title":null;var b,O,B,D,k=a.getModuleCount()*o+2*h,z="";for(D="l"+o+",0 0,"+o+" -"+o+",0 0,-"+o+"z ",z+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',z+=c.scalable?"":' width="'+k+'px" height="'+k+'px"',z+=' viewBox="0 0 '+k+" "+k+'" ',z+=' preserveAspectRatio="xMinYMin meet"',z+=l.text||s.text?' role="img" aria-labelledby="'+M([l.id,s.id].join(" ").trim())+'"':"",z+=">",z+=l.text?'<title id="'+M(l.id)+'">'+M(l.text)+"</title>":"",z+=s.text?'<description id="'+M(s.id)+'">'+M(s.text)+"</description>":"",z+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',z+='<path d="',O=0;O<a.getModuleCount();O+=1)for(B=O*o+h,b=0;b<a.getModuleCount();b+=1)a.isDark(O,b)&&(z+="M"+(b*o+h)+","+B+D);return(z+='" stroke="transparent" fill="black"/>')+"</svg>"},a.createDataURL=function(o,h){o=o||2,h=h===void 0?4*o:h;var s=a.getModuleCount()*o+2*h,l=h,c=s-h;return ht(s,s,function(b,O){if(l<=b&&b<c&&l<=O&&O<c){var B=Math.floor((b-l)/o),D=Math.floor((O-l)/o);return a.isDark(D,B)?0:1}return 1})},a.createImgTag=function(o,h,s){o=o||2,h=h===void 0?4*o:h;var l=a.getModuleCount()*o+2*h,c="";return c+="<img",c+=' src="',c+=a.createDataURL(o,h),c+='"',c+=' width="',c+=l,c+='"',c+=' height="',c+=l,c+='"',s&&(c+=' alt="',c+=M(s),c+='"'),c+"/>"};var M=function(o){for(var h="",s=0;s<o.length;s+=1){var l=o.charAt(s);switch(l){case"<":h+="&lt;";break;case">":h+="&gt;";break;case"&":h+="&amp;";break;case'"':h+="&quot;";break;default:h+=l}}return h};return a.createASCII=function(o,h){if((o=o||1)<2)return function(P){P=P===void 0?2:P;var E,I,j,Q,q,Z=1*a.getModuleCount()+2*P,W=P,G=Z-P,vt={"██":"█","█ ":"▀"," █":"▄","  ":" "},lt={"██":"▀","█ ":"▀"," █":" ","  ":" "},it="";for(E=0;E<Z;E+=2){for(j=Math.floor((E-W)/1),Q=Math.floor((E+1-W)/1),I=0;I<Z;I+=1)q="█",W<=I&&I<G&&W<=E&&E<G&&a.isDark(j,Math.floor((I-W)/1))&&(q=" "),W<=I&&I<G&&W<=E+1&&E+1<G&&a.isDark(Q,Math.floor((I-W)/1))?q+=" ":q+="█",it+=P<1&&E+1>=G?lt[q]:vt[q];it+=`
`}return Z%2&&P>0?it.substring(0,it.length-Z-1)+Array(Z+1).join("▀"):it.substring(0,it.length-1)}(h);o-=1,h=h===void 0?2*o:h;var s,l,c,b,O=a.getModuleCount()*o+2*h,B=h,D=O-h,k=Array(o+1).join("██"),z=Array(o+1).join("  "),H="",N="";for(s=0;s<O;s+=1){for(c=Math.floor((s-B)/o),N="",l=0;l<O;l+=1)b=1,B<=l&&l<D&&B<=s&&s<D&&a.isDark(c,Math.floor((l-B)/o))&&(b=0),N+=b?k:z;for(c=0;c<o;c+=1)H+=N+`
`}return H.substring(0,H.length-1)},a.renderTo2dContext=function(o,h){h=h||2;for(var s=a.getModuleCount(),l=0;l<s;l++)for(var c=0;c<s;c++)o.fillStyle=a.isDark(l,c)?"black":"white",o.fillRect(l*h,c*h,h,h)},a};V.stringToBytes=(V.stringToBytesFuncs={default:function(g){for(var u=[],d=0;d<g.length;d+=1){var e=g.charCodeAt(d);u.push(255&e)}return u}}).default,V.createStringToBytes=function(g,u){var d=function(){for(var t=mt(g),r=function(){var _=t.read();if(_==-1)throw"eof";return _},n=0,i={};;){var a=t.read();if(a==-1)break;var p=r(),f=r()<<8|r();i[String.fromCharCode(a<<8|p)]=f,n+=1}if(n!=u)throw n+" != "+u;return i}(),e=63;return function(t){for(var r=[],n=0;n<t.length;n+=1){var i=t.charCodeAt(n);if(i<128)r.push(i);else{var a=d[t.charAt(n)];typeof a=="number"?(255&a)==a?r.push(a):(r.push(a>>>8),r.push(255&a)):r.push(e)}}return r}};var ot,J,K,L,et,rt={L:1,M:0,Q:3,H:2},U=(ot=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],J=1335,K=7973,et=function(g){for(var u=0;g!=0;)u+=1,g>>>=1;return u},(L={}).getBCHTypeInfo=function(g){for(var u=g<<10;et(u)-et(J)>=0;)u^=J<<et(u)-et(J);return 21522^(g<<10|u)},L.getBCHTypeNumber=function(g){for(var u=g<<12;et(u)-et(K)>=0;)u^=K<<et(u)-et(K);return g<<12|u},L.getPatternPosition=function(g){return ot[g-1]},L.getMaskFunction=function(g){switch(g){case 0:return function(u,d){return(u+d)%2==0};case 1:return function(u,d){return u%2==0};case 2:return function(u,d){return d%3==0};case 3:return function(u,d){return(u+d)%3==0};case 4:return function(u,d){return(Math.floor(u/2)+Math.floor(d/3))%2==0};case 5:return function(u,d){return u*d%2+u*d%3==0};case 6:return function(u,d){return(u*d%2+u*d%3)%2==0};case 7:return function(u,d){return(u*d%3+(u+d)%2)%2==0};default:throw"bad maskPattern:"+g}},L.getErrorCorrectPolynomial=function(g){for(var u=nt([1],0),d=0;d<g;d+=1)u=u.multiply(nt([1,X.gexp(d)],0));return u},L.getLengthInBits=function(g,u){if(1<=u&&u<10)switch(g){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+g}else if(u<27)switch(g){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+g}else{if(!(u<41))throw"type:"+u;switch(g){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+g}}},L.getLostPoint=function(g){for(var u=g.getModuleCount(),d=0,e=0;e<u;e+=1)for(var t=0;t<u;t+=1){for(var r=0,n=g.isDark(e,t),i=-1;i<=1;i+=1)if(!(e+i<0||u<=e+i))for(var a=-1;a<=1;a+=1)t+a<0||u<=t+a||i==0&&a==0||n==g.isDark(e+i,t+a)&&(r+=1);r>5&&(d+=3+r-5)}for(e=0;e<u-1;e+=1)for(t=0;t<u-1;t+=1){var p=0;g.isDark(e,t)&&(p+=1),g.isDark(e+1,t)&&(p+=1),g.isDark(e,t+1)&&(p+=1),g.isDark(e+1,t+1)&&(p+=1),p!=0&&p!=4||(d+=3)}for(e=0;e<u;e+=1)for(t=0;t<u-6;t+=1)g.isDark(e,t)&&!g.isDark(e,t+1)&&g.isDark(e,t+2)&&g.isDark(e,t+3)&&g.isDark(e,t+4)&&!g.isDark(e,t+5)&&g.isDark(e,t+6)&&(d+=40);for(t=0;t<u;t+=1)for(e=0;e<u-6;e+=1)g.isDark(e,t)&&!g.isDark(e+1,t)&&g.isDark(e+2,t)&&g.isDark(e+3,t)&&g.isDark(e+4,t)&&!g.isDark(e+5,t)&&g.isDark(e+6,t)&&(d+=40);var f=0;for(t=0;t<u;t+=1)for(e=0;e<u;e+=1)g.isDark(e,t)&&(f+=1);return d+Math.abs(100*f/u/u-50)/5*10},L),X=function(){for(var g=new Array(256),u=new Array(256),d=0;d<8;d+=1)g[d]=1<<d;for(d=8;d<256;d+=1)g[d]=g[d-4]^g[d-5]^g[d-6]^g[d-8];for(d=0;d<255;d+=1)u[g[d]]=d;return{glog:function(e){if(e<1)throw"glog("+e+")";return u[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g[e]}}}();function nt(g,u){if(g.length===void 0)throw g.length+"/"+u;var d=function(){for(var t=0;t<g.length&&g[t]==0;)t+=1;for(var r=new Array(g.length-t+u),n=0;n<g.length-t;n+=1)r[n]=g[n+t];return r}(),e={getAt:function(t){return d[t]},getLength:function(){return d.length},multiply:function(t){for(var r=new Array(e.getLength()+t.getLength()-1),n=0;n<e.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)r[n+i]^=X.gexp(X.glog(e.getAt(n))+X.glog(t.getAt(i)));return nt(r,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var r=X.glog(e.getAt(0))-X.glog(t.getAt(0)),n=new Array(e.getLength()),i=0;i<e.getLength();i+=1)n[i]=e.getAt(i);for(i=0;i<t.getLength();i+=1)n[i]^=X.gexp(X.glog(t.getAt(i))+r);return nt(n,0).mod(t)}};return e}var ct=function(){var g=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u=function(e,t){var r={};return r.totalCount=e,r.dataCount=t,r},d={getRSBlocks:function(e,t){var r=function(y,m){switch(m){case rt.L:return g[4*(y-1)+0];case rt.M:return g[4*(y-1)+1];case rt.Q:return g[4*(y-1)+2];case rt.H:return g[4*(y-1)+3];default:return}}(e,t);if(r===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var n=r.length/3,i=[],a=0;a<n;a+=1)for(var p=r[3*a+0],f=r[3*a+1],_=r[3*a+2],v=0;v<p;v+=1)i.push(u(f,_));return i}};return d}(),at=function(){var g=[],u=0,d={getBuffer:function(){return g},getAt:function(e){var t=Math.floor(e/8);return(g[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r+=1)d.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return u},putBit:function(e){var t=Math.floor(u/8);g.length<=t&&g.push(0),e&&(g[t]|=128>>>u%8),u+=1}};return d},gt=function(g){var u=g,d={getMode:function(){return 1},getLength:function(r){return u.length},write:function(r){for(var n=u,i=0;i+2<n.length;)r.put(e(n.substring(i,i+3)),10),i+=3;i<n.length&&(n.length-i==1?r.put(e(n.substring(i,i+1)),4):n.length-i==2&&r.put(e(n.substring(i,i+2)),7))}},e=function(r){for(var n=0,i=0;i<r.length;i+=1)n=10*n+t(r.charAt(i));return n},t=function(r){if("0"<=r&&r<="9")return r.charCodeAt(0)-48;throw"illegal char :"+r};return d},ft=function(g){var u=g,d={getMode:function(){return 2},getLength:function(t){return u.length},write:function(t){for(var r=u,n=0;n+1<r.length;)t.put(45*e(r.charAt(n))+e(r.charAt(n+1)),11),n+=2;n<r.length&&t.put(e(r.charAt(n)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return d},dt=function(g){var u=V.stringToBytes(g);return{getMode:function(){return 4},getLength:function(d){return u.length},write:function(d){for(var e=0;e<u.length;e+=1)d.put(u[e],8)}}},pt=function(g){var u=V.stringToBytesFuncs.SJIS;if(!u)throw"sjis not supported.";(function(){var t=u("友");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var d=u(g),e={getMode:function(){return 8},getLength:function(t){return~~(d.length/2)},write:function(t){for(var r=d,n=0;n+1<r.length;){var i=(255&r[n])<<8|255&r[n+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(n+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13),n+=2}if(n<r.length)throw"illegal char at "+(n+1)}};return e},wt=function(){var g=[],u={writeByte:function(d){g.push(255&d)},writeShort:function(d){u.writeByte(d),u.writeByte(d>>>8)},writeBytes:function(d,e,t){e=e||0,t=t||d.length;for(var r=0;r<t;r+=1)u.writeByte(d[r+e])},writeString:function(d){for(var e=0;e<d.length;e+=1)u.writeByte(d.charCodeAt(e))},toByteArray:function(){return g},toString:function(){var d="";d+="[";for(var e=0;e<g.length;e+=1)e>0&&(d+=","),d+=g[e];return d+"]"}};return u},mt=function(g){var u=g,d=0,e=0,t=0,r={read:function(){for(;t<8;){if(d>=u.length){if(t==0)return-1;throw"unexpected end of file./"+t}var i=u.charAt(d);if(d+=1,i=="=")return t=0,-1;i.match(/^\s$/)||(e=e<<6|n(i.charCodeAt(0)),t+=6)}var a=e>>>t-8&255;return t-=8,a}},n=function(i){if(65<=i&&i<=90)return i-65;if(97<=i&&i<=122)return i-97+26;if(48<=i&&i<=57)return i-48+52;if(i==43)return 62;if(i==47)return 63;throw"c:"+i};return r},ht=function(g,u,d){for(var e=function(f,_){var v=f,y=_,m=new Array(f*_),S={setPixel:function(o,h,s){m[h*v+o]=s},write:function(o){o.writeString("GIF87a"),o.writeShort(v),o.writeShort(y),o.writeByte(128),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(255),o.writeByte(255),o.writeByte(255),o.writeString(","),o.writeShort(0),o.writeShort(0),o.writeShort(v),o.writeShort(y),o.writeByte(0);var h=$(2);o.writeByte(2);for(var s=0;h.length-s>255;)o.writeByte(255),o.writeBytes(h,s,255),s+=255;o.writeByte(h.length-s),o.writeBytes(h,s,h.length-s),o.writeByte(0),o.writeString(";")}},$=function(o){for(var h=1<<o,s=1+(1<<o),l=o+1,c=M(),b=0;b<h;b+=1)c.add(String.fromCharCode(b));c.add(String.fromCharCode(h)),c.add(String.fromCharCode(s));var O,B,D,k=wt(),z=(O=k,B=0,D=0,{write:function(E,I){if(E>>>I)throw"length over";for(;B+I>=8;)O.writeByte(255&(E<<B|D)),I-=8-B,E>>>=8-B,D=0,B=0;D|=E<<B,B+=I},flush:function(){B>0&&O.writeByte(D)}});z.write(h,l);var H=0,N=String.fromCharCode(m[H]);for(H+=1;H<m.length;){var P=String.fromCharCode(m[H]);H+=1,c.contains(N+P)?N+=P:(z.write(c.indexOf(N),l),c.size()<4095&&(c.size()==1<<l&&(l+=1),c.add(N+P)),N=P)}return z.write(c.indexOf(N),l),z.write(s,l),z.flush(),k.toByteArray()},M=function(){var o={},h=0,s={add:function(l){if(s.contains(l))throw"dup key:"+l;o[l]=h,h+=1},size:function(){return h},indexOf:function(l){return o[l]},contains:function(l){return o[l]!==void 0}};return s};return S}(g,u),t=0;t<u;t+=1)for(var r=0;r<g;r+=1)e.setPixel(r,t,d(r,t));var n=wt();e.write(n);for(var i=function(){var f=0,_=0,v=0,y="",m={},S=function(M){y+=String.fromCharCode($(63&M))},$=function(M){if(!(M<0)){if(M<26)return 65+M;if(M<52)return M-26+97;if(M<62)return M-52+48;if(M==62)return 43;if(M==63)return 47}throw"n:"+M};return m.writeByte=function(M){for(f=f<<8|255&M,_+=8,v+=1;_>=6;)S(f>>>_-6),_-=6},m.flush=function(){if(_>0&&(S(f<<6-_),f=0,_=0),v%3!=0)for(var M=3-v%3,o=0;o<M;o+=1)y+="="},m.toString=function(){return y},m}(),a=n.toByteArray(),p=0;p<a.length;p+=1)i.writeByte(a[p]);return i.flush(),"data:image/gif;base64,"+i};return V}();st.stringToBytesFuncs["UTF-8"]=function(V){return function(ot){for(var J=[],K=0;K<ot.length;K++){var L=ot.charCodeAt(K);L<128?J.push(L):L<2048?J.push(192|L>>6,128|63&L):L<55296||L>=57344?J.push(224|L>>12,128|L>>6&63,128|63&L):(K++,L=65536+((1023&L)<<10|1023&ot.charCodeAt(K)),J.push(240|L>>18,128|L>>12&63,128|L>>6&63,128|63&L))}return J}(V)},(ut=typeof(Y=function(){return st})=="function"?Y.apply(F,[]):Y)===void 0||(R.exports=ut)}},x={};function A(R){var F=x[R];if(F!==void 0)return F.exports;var Y=x[R]={exports:{}};return C[R](Y,Y.exports,A),Y.exports}A.n=R=>{var F=R&&R.__esModule?()=>R.default:()=>R;return A.d(F,{a:F}),F},A.d=(R,F)=>{for(var Y in F)A.o(F,Y)&&!A.o(R,Y)&&Object.defineProperty(R,Y,{enumerable:!0,get:F[Y]})},A.o=(R,F)=>Object.prototype.hasOwnProperty.call(R,F);var T={};return(()=>{A.d(T,{default:()=>u});const R=d=>!!d&&typeof d=="object"&&!Array.isArray(d);function F(d,...e){if(!e.length)return d;const t=e.shift();return t!==void 0&&R(d)&&R(t)?(d=Object.assign({},d),Object.keys(t).forEach(r=>{const n=d[r],i=t[r];Array.isArray(n)&&Array.isArray(i)?d[r]=i:R(n)&&R(i)?d[r]=F(Object.assign({},n),i):d[r]=i}),F(d,...e)):d}function Y(d,e){const t=document.createElement("a");t.download=e,t.href=d,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const ut={L:.07,M:.15,Q:.25,H:.3};class st{constructor({svg:e,type:t,window:r}){this._svg=e,this._type=t,this._window=r}draw(e,t,r,n){let i;switch(this._type){case"dots":i=this._drawDot;break;case"classy":i=this._drawClassy;break;case"classy-rounded":i=this._drawClassyRounded;break;case"rounded":i=this._drawRounded;break;case"extra-rounded":i=this._drawExtraRounded;break;default:i=this._drawSquare}i.call(this,{x:e,y:t,size:r,getNeighbor:n})}_rotateFigure({x:e,y:t,size:r,rotation:n=0,draw:i}){var a;const p=e+r/2,f=t+r/2;i(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*n/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+t/2)),this._element.setAttribute("cy",String(n+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:r}){this._basicDot({x:e,y:t,size:r,rotation:0})}_drawSquare({x:e,y:t,size:r}){this._basicSquare({x:e,y:t,size:r,rotation:0})}_drawRounded({x:e,y:t,size:r,getNeighbor:n}){const i=n?+n(-1,0):0,a=n?+n(1,0):0,p=n?+n(0,-1):0,f=n?+n(0,1):0,_=i+a+p+f;if(_!==0)if(_>2||i&&a||p&&f)this._basicSquare({x:e,y:t,size:r,rotation:0});else{if(_===2){let v=0;return i&&p?v=Math.PI/2:p&&a?v=Math.PI:a&&f&&(v=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:r,rotation:v})}if(_===1){let v=0;return p?v=Math.PI/2:a?v=Math.PI:f&&(v=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:r,rotation:v})}}else this._basicDot({x:e,y:t,size:r,rotation:0})}_drawExtraRounded({x:e,y:t,size:r,getNeighbor:n}){const i=n?+n(-1,0):0,a=n?+n(1,0):0,p=n?+n(0,-1):0,f=n?+n(0,1):0,_=i+a+p+f;if(_!==0)if(_>2||i&&a||p&&f)this._basicSquare({x:e,y:t,size:r,rotation:0});else{if(_===2){let v=0;return i&&p?v=Math.PI/2:p&&a?v=Math.PI:a&&f&&(v=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:r,rotation:v})}if(_===1){let v=0;return p?v=Math.PI/2:a?v=Math.PI:f&&(v=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:r,rotation:v})}}else this._basicDot({x:e,y:t,size:r,rotation:0})}_drawClassy({x:e,y:t,size:r,getNeighbor:n}){const i=n?+n(-1,0):0,a=n?+n(1,0):0,p=n?+n(0,-1):0,f=n?+n(0,1):0;i+a+p+f!==0?i||p?a||f?this._basicSquare({x:e,y:t,size:r,rotation:0}):this._basicCornerRounded({x:e,y:t,size:r,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:r,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:r,getNeighbor:n}){const i=n?+n(-1,0):0,a=n?+n(1,0):0,p=n?+n(0,-1):0,f=n?+n(0,1):0;i+a+p+f!==0?i||p?a||f?this._basicSquare({x:e,y:t,size:r,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:r,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:r,rotation:Math.PI/2})}}const V={dot:"dot",square:"square",extraRounded:"extra-rounded"},ot=Object.values(V);class J{constructor({svg:e,type:t,window:r}){this._svg=e,this._type=t,this._window=r}draw(e,t,r,n){let i;switch(this._type){case V.square:i=this._drawSquare;break;case V.extraRounded:i=this._drawExtraRounded;break;default:i=this._drawDot}i.call(this,{x:e,y:t,size:r,rotation:n})}_rotateFigure({x:e,y:t,size:r,rotation:n=0,draw:i}){var a;const p=e+r/2,f=t+r/2;i(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*n/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:r,y:n}=e,i=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r+t/2} ${n}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${i}a ${t/2-i} ${t/2-i} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){const{size:t,x:r,y:n}=e,i=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${n}v ${t}h ${t}v `+-t+`zM ${r+i} ${n+i}h `+(t-2*i)+"v "+(t-2*i)+"h "+(2*i-t)+"z")}}))}_basicExtraRounded(e){const{size:t,x:r,y:n}=e,i=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${n+2.5*i}v `+2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*i}h `+2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*-i}v `+-2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*-i}h `+-2*i+`a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*i}M ${r+2.5*i} ${n+i}h `+2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*i}v `+2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*i}h `+-2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*-i}v `+-2*i+`a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*-i}`)}}))}_drawDot({x:e,y:t,size:r,rotation:n}){this._basicDot({x:e,y:t,size:r,rotation:n})}_drawSquare({x:e,y:t,size:r,rotation:n}){this._basicSquare({x:e,y:t,size:r,rotation:n})}_drawExtraRounded({x:e,y:t,size:r,rotation:n}){this._basicExtraRounded({x:e,y:t,size:r,rotation:n})}}const K={dot:"dot",square:"square"},L=Object.values(K);class et{constructor({svg:e,type:t,window:r}){this._svg=e,this._type=t,this._window=r}draw(e,t,r,n){let i;i=this._type===K.square?this._drawSquare:this._drawDot,i.call(this,{x:e,y:t,size:r,rotation:n})}_rotateFigure({x:e,y:t,size:r,rotation:n=0,draw:i}){var a;const p=e+r/2,f=t+r/2;i(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*n/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+t/2)),this._element.setAttribute("cy",String(n+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:r,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:r,rotation:n}){this._basicDot({x:e,y:t,size:r,rotation:n})}_drawSquare({x:e,y:t,size:r,rotation:n}){this._basicSquare({x:e,y:t,size:r,rotation:n})}}const rt="circle",U=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],X=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class nt{constructor(e,t){this._roundSize=r=>this._options.dotsOptions.roundSize?Math.floor(r):r,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=e.image,this._instanceId=nt.instanceCount++,this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(e){const t=e.getModuleCount(),r=Math.min(this._options.width,this._options.height)-2*this._options.margin,n=this._options.shape===rt?r/Math.sqrt(2):r,i=this._roundSize(n/t);let a={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:p,qrOptions:f}=this._options,_=p.imageSize*ut[f.errorCorrectionLevel],v=Math.floor(_*t*t);a=function({originalHeight:y,originalWidth:m,maxHiddenDots:S,maxHiddenAxisDots:$,dotSize:M}){const o={x:0,y:0},h={x:0,y:0};if(y<=0||m<=0||S<=0||M<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const s=y/m;return o.x=Math.floor(Math.sqrt(S/s)),o.x<=0&&(o.x=1),$&&$<o.x&&(o.x=$),o.x%2==0&&o.x--,h.x=o.x*M,o.y=1+2*Math.ceil((o.x*s-1)/2),h.y=Math.round(h.x*s),(o.y*o.x>S||$&&$<o.y)&&($&&$<o.y?(o.y=$,o.y%2==0&&o.x--):o.y-=2,h.y=o.y*M,o.x=1+2*Math.ceil((o.y/s-1)/2),h.x=Math.round(h.y/s)),{height:h.y,width:h.x,hideYDots:o.y,hideXDots:o.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:v,maxHiddenAxisDots:t-14,dotSize:i})}this.drawBackground(),this.drawDots((p,f)=>{var _,v,y,m,S,$;return!(this._options.imageOptions.hideBackgroundDots&&p>=(t-a.hideYDots)/2&&p<(t+a.hideYDots)/2&&f>=(t-a.hideXDots)/2&&f<(t+a.hideXDots)/2||!((_=U[p])===null||_===void 0)&&_[f]||!((v=U[p-t+7])===null||v===void 0)&&v[f]||!((y=U[p])===null||y===void 0)&&y[f-t+7]||!((m=X[p])===null||m===void 0)&&m[f]||!((S=X[p-t+7])===null||S===void 0)&&S[f]||!(($=X[p])===null||$===void 0)&&$[f-t+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:a.width,height:a.height,count:t,dotSize:i})}drawBackground(){var e,t,r;const n=this._element,i=this._options;if(n){const a=(e=i.backgroundOptions)===null||e===void 0?void 0:e.gradient,p=(t=i.backgroundOptions)===null||t===void 0?void 0:t.color;let f=i.height,_=i.width;if(a||p){const v=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((r=i.backgroundOptions)===null||r===void 0)&&r.round&&(f=_=Math.min(i.width,i.height),v.setAttribute("rx",String(f/2*i.backgroundOptions.round))),v.setAttribute("x",String(this._roundSize((i.width-_)/2))),v.setAttribute("y",String(this._roundSize((i.height-f)/2))),v.setAttribute("width",String(_)),v.setAttribute("height",String(f)),this._backgroundClipPath.appendChild(v),this._createColor({options:a,color:p,additionalRotation:0,x:0,y:0,height:i.height,width:i.width,name:`background-color-${this._instanceId}`})}}}drawDots(e){var t,r;if(!this._qr)throw"QR code is not defined";const n=this._options,i=this._qr.getModuleCount();if(i>n.width||i>n.height)throw"The canvas is too small.";const a=Math.min(n.width,n.height)-2*n.margin,p=n.shape===rt?a/Math.sqrt(2):a,f=this._roundSize(p/i),_=this._roundSize((n.width-i*f)/2),v=this._roundSize((n.height-i*f)/2),y=new st({svg:this._element,type:n.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=n.dotsOptions)===null||t===void 0?void 0:t.gradient,color:n.dotsOptions.color,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:`dot-color-${this._instanceId}`});for(let m=0;m<i;m++)for(let S=0;S<i;S++)e&&!e(m,S)||!((r=this._qr)===null||r===void 0)&&r.isDark(m,S)&&(y.draw(_+S*f,v+m*f,f,($,M)=>!(S+$<0||m+M<0||S+$>=i||m+M>=i)&&!(e&&!e(m+M,S+$))&&!!this._qr&&this._qr.isDark(m+M,S+$)),y._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(y._element));if(n.shape===rt){const m=this._roundSize((a/f-i)/2),S=i+2*m,$=_-m*f,M=v-m*f,o=[],h=this._roundSize(S/2);for(let s=0;s<S;s++){o[s]=[];for(let l=0;l<S;l++)s>=m-1&&s<=S-m&&l>=m-1&&l<=S-m||Math.sqrt((s-h)*(s-h)+(l-h)*(l-h))>h?o[s][l]=0:o[s][l]=this._qr.isDark(l-2*m<0?l:l>=i?l-2*m:l-m,s-2*m<0?s:s>=i?s-2*m:s-m)?1:0}for(let s=0;s<S;s++)for(let l=0;l<S;l++)o[s][l]&&(y.draw($+l*f,M+s*f,f,(c,b)=>{var O;return!!(!((O=o[s+b])===null||O===void 0)&&O[l+c])}),y._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(y._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const e=this._element,t=this._options;if(!e)throw"Element code is not defined";const r=this._qr.getModuleCount(),n=Math.min(t.width,t.height)-2*t.margin,i=t.shape===rt?n/Math.sqrt(2):n,a=this._roundSize(i/r),p=7*a,f=3*a,_=this._roundSize((t.width-r*a)/2),v=this._roundSize((t.height-r*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([y,m,S])=>{var $,M,o,h,s,l,c,b,O,B,D,k,z,H;const N=_+y*a*(r-7),P=v+m*a*(r-7);let E=this._dotsClipPath,I=this._dotsClipPath;if((!(($=t.cornersSquareOptions)===null||$===void 0)&&$.gradient||!((M=t.cornersSquareOptions)===null||M===void 0)&&M.color)&&(E=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),E.setAttribute("id",`clip-path-corners-square-color-${y}-${m}-${this._instanceId}`),this._defs.appendChild(E),this._cornersSquareClipPath=this._cornersDotClipPath=I=E,this._createColor({options:(o=t.cornersSquareOptions)===null||o===void 0?void 0:o.gradient,color:(h=t.cornersSquareOptions)===null||h===void 0?void 0:h.color,additionalRotation:S,x:N,y:P,height:p,width:p,name:`corners-square-color-${y}-${m}-${this._instanceId}`})),((s=t.cornersSquareOptions)===null||s===void 0?void 0:s.type)&&ot.includes(t.cornersSquareOptions.type)){const j=new J({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});j.draw(N,P,p,S),j._element&&E&&E.appendChild(j._element)}else{const j=new st({svg:this._element,type:((l=t.cornersSquareOptions)===null||l===void 0?void 0:l.type)||t.dotsOptions.type,window:this._window});for(let Q=0;Q<U.length;Q++)for(let q=0;q<U[Q].length;q++)!((c=U[Q])===null||c===void 0)&&c[q]&&(j.draw(N+q*a,P+Q*a,a,(Z,W)=>{var G;return!!(!((G=U[Q+W])===null||G===void 0)&&G[q+Z])}),j._element&&E&&E.appendChild(j._element))}if((!((b=t.cornersDotOptions)===null||b===void 0)&&b.gradient||!((O=t.cornersDotOptions)===null||O===void 0)&&O.color)&&(I=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),I.setAttribute("id",`clip-path-corners-dot-color-${y}-${m}-${this._instanceId}`),this._defs.appendChild(I),this._cornersDotClipPath=I,this._createColor({options:(B=t.cornersDotOptions)===null||B===void 0?void 0:B.gradient,color:(D=t.cornersDotOptions)===null||D===void 0?void 0:D.color,additionalRotation:S,x:N+2*a,y:P+2*a,height:f,width:f,name:`corners-dot-color-${y}-${m}-${this._instanceId}`})),((k=t.cornersDotOptions)===null||k===void 0?void 0:k.type)&&L.includes(t.cornersDotOptions.type)){const j=new et({svg:this._element,type:t.cornersDotOptions.type,window:this._window});j.draw(N+2*a,P+2*a,f,S),j._element&&I&&I.appendChild(j._element)}else{const j=new st({svg:this._element,type:((z=t.cornersDotOptions)===null||z===void 0?void 0:z.type)||t.dotsOptions.type,window:this._window});for(let Q=0;Q<X.length;Q++)for(let q=0;q<X[Q].length;q++)!((H=X[Q])===null||H===void 0)&&H[q]&&(j.draw(N+q*a,P+Q*a,a,(Z,W)=>{var G;return!!(!((G=X[Q+W])===null||G===void 0)&&G[q+Z])}),j._element&&I&&I.appendChild(j._element))}})}loadImage(){return new Promise((e,t)=>{var r;const n=this._options;if(!n.image)return t("Image is not defined");if(!((r=n.nodeCanvas)===null||r===void 0)&&r.loadImage)n.nodeCanvas.loadImage(n.image).then(i=>{var a,p;if(this._image=i,this._options.imageOptions.saveAsBlob){const f=(a=n.nodeCanvas)===null||a===void 0?void 0:a.createCanvas(this._image.width,this._image.height);(p=f==null?void 0:f.getContext("2d"))===null||p===void 0||p.drawImage(i,0,0),this._imageUri=f==null?void 0:f.toDataURL()}e()}).catch(t);else{const i=new this._window.Image;typeof n.imageOptions.crossOrigin=="string"&&(i.crossOrigin=n.imageOptions.crossOrigin),this._image=i,i.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await async function(a,p){return new Promise(f=>{const _=new p.XMLHttpRequest;_.onload=function(){const v=new p.FileReader;v.onloadend=function(){f(v.result)},v.readAsDataURL(_.response)},_.open("GET",a),_.responseType="blob",_.send()})}(n.image||"",this._window)),e()},i.src=n.image}})}async drawImage({width:e,height:t,count:r,dotSize:n}){const i=this._options,a=this._roundSize((i.width-r*n)/2),p=this._roundSize((i.height-r*n)/2),f=a+this._roundSize(i.imageOptions.margin+(r*n-e)/2),_=p+this._roundSize(i.imageOptions.margin+(r*n-t)/2),v=e-2*i.imageOptions.margin,y=t-2*i.imageOptions.margin,m=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("href",this._imageUri||""),m.setAttribute("xlink:href",this._imageUri||""),m.setAttribute("x",String(f)),m.setAttribute("y",String(_)),m.setAttribute("width",`${v}px`),m.setAttribute("height",`${y}px`),this._element.appendChild(m)}_createColor({options:e,color:t,additionalRotation:r,x:n,y:i,height:a,width:p,name:f}){const _=p>a?p:a,v=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(v.setAttribute("x",String(n)),v.setAttribute("y",String(i)),v.setAttribute("height",String(a)),v.setAttribute("width",String(p)),v.setAttribute("clip-path",`url('#clip-path-${f}')`),e){let y;if(e.type==="radial")y=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),y.setAttribute("id",f),y.setAttribute("gradientUnits","userSpaceOnUse"),y.setAttribute("fx",String(n+p/2)),y.setAttribute("fy",String(i+a/2)),y.setAttribute("cx",String(n+p/2)),y.setAttribute("cy",String(i+a/2)),y.setAttribute("r",String(_/2));else{const m=((e.rotation||0)+r)%(2*Math.PI),S=(m+2*Math.PI)%(2*Math.PI);let $=n+p/2,M=i+a/2,o=n+p/2,h=i+a/2;S>=0&&S<=.25*Math.PI||S>1.75*Math.PI&&S<=2*Math.PI?($-=p/2,M-=a/2*Math.tan(m),o+=p/2,h+=a/2*Math.tan(m)):S>.25*Math.PI&&S<=.75*Math.PI?(M-=a/2,$-=p/2/Math.tan(m),h+=a/2,o+=p/2/Math.tan(m)):S>.75*Math.PI&&S<=1.25*Math.PI?($+=p/2,M+=a/2*Math.tan(m),o-=p/2,h-=a/2*Math.tan(m)):S>1.25*Math.PI&&S<=1.75*Math.PI&&(M+=a/2,$+=p/2/Math.tan(m),h-=a/2,o-=p/2/Math.tan(m)),y=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),y.setAttribute("id",f),y.setAttribute("gradientUnits","userSpaceOnUse"),y.setAttribute("x1",String(Math.round($))),y.setAttribute("y1",String(Math.round(M))),y.setAttribute("x2",String(Math.round(o))),y.setAttribute("y2",String(Math.round(h)))}e.colorStops.forEach(({offset:m,color:S})=>{const $=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");$.setAttribute("offset",100*m+"%"),$.setAttribute("stop-color",S),y.appendChild($)}),v.setAttribute("fill",`url('#${f}')`),this._defs.appendChild(y)}else t&&v.setAttribute("fill",t);this._element.appendChild(v)}}nt.instanceCount=0;const ct=nt,at="canvas",gt={};for(let d=0;d<=40;d++)gt[d]=d;const ft={type:at,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:gt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function dt(d){const e=Object.assign({},d);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map(t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)})),e}function pt(d){const e=Object.assign({},d);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=dt(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=dt(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=dt(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=dt(e.backgroundOptions.gradient))),e}var wt=A(873),mt=A.n(wt);function ht(d){if(!d)throw new Error("Extension must be defined");d[0]==="."&&(d=d.substring(1));const e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[d.toLowerCase()];if(!e)throw new Error(`Extension "${d}" is not supported`);return e}class g{constructor(e){e!=null&&e.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?pt(F(ft,e)):ft,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;const e=new ct(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then(()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))})}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then(()=>{var r;if(!this._svg)return;const n=this._svg,i=new this._window.XMLSerializer().serializeToString(n),a=btoa(i),p=`data:${ht("svg")};base64,${a}`;if(!((r=this._options.nodeCanvas)===null||r===void 0)&&r.loadImage)return this._options.nodeCanvas.loadImage(p).then(f=>{var _,v;f.width=this._options.width,f.height=this._options.height,(v=(_=this._nodeCanvas)===null||_===void 0?void 0:_.getContext("2d"))===null||v===void 0||v.drawImage(f,0,0)});{const f=new this._window.Image;return new Promise(_=>{f.onload=()=>{var v,y;(y=(v=this._domCanvas)===null||v===void 0?void 0:v.getContext("2d"))===null||y===void 0||y.drawImage(f,0,0),_()},f.src=p})}}))}async _getElement(e="png"){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(e){g._clearContainer(this._container),this._options=e?pt(F(this._options,e)):this._options,this._options.data&&(this._qr=mt()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===at?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===at?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(e="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(e),r=ht(e);if(!t)return null;if(e.toLowerCase()==="svg"){const n=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(n):new Blob([n],{type:r})}return new Promise(n=>{const i=t;if("toBuffer"in i)if(r==="image/png")n(i.toBuffer(r));else if(r==="image/jpeg")n(i.toBuffer(r));else{if(r!=="application/pdf")throw Error("Unsupported extension");n(i.toBuffer(r))}else"toBlob"in i&&i.toBlob(n,r,1)})}async download(e){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",r="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(r=e.name),e.extension&&(t=e.extension));const n=await this._getElement(t);if(n)if(t.toLowerCase()==="svg"){let i=new XMLSerializer().serializeToString(n);i=`<?xml version="1.0" standalone="no"?>\r
`+i,Y(`data:${ht(t)};charset=utf-8,${encodeURIComponent(i)}`,`${r}.svg`)}else Y(n.toDataURL(ht(t)),`${r}.${t}`)}}const u=g})(),T.default})())})(_t);var Ct=_t.exports;const xt=bt(Ct),St=(tt,w)=>{let C;return(...x)=>{window.clearTimeout(C),C=window.setTimeout(()=>tt(...x),w)}};class It{constructor(){this.centerImage=null,this.qrCanvas=null,this.qrPreviewStyler=null,this.qrStyler=null,this.currentSize=300,this.currentStyle="square",this.scheduleUpdate=St(()=>{var C,x;const w=(x=(C=this.urlInput)==null?void 0:C.value)==null?void 0:x.trim();w&&this.renderQRCode(w)},150),this.init()}init(){this.urlInput=document.getElementById("url-input"),this.generateBtn=document.getElementById("generate-btn"),this.qrColorInput=document.getElementById("qr-color"),this.qrColorHexInput=document.getElementById("qr-color-hex"),this.qrColorDisplay=document.getElementById("qr-color-display"),this.bgColorInput=document.getElementById("bg-color"),this.bgColorHexInput=document.getElementById("bg-color-hex"),this.bgColorDisplay=document.getElementById("bg-color-display"),this.clearQrColorBtn=document.getElementById("clear-qr-color"),this.clearBgColorBtn=document.getElementById("clear-bg-color"),this.fileInput=document.getElementById("file-input"),this.uploadArea=document.getElementById("upload-area"),this.imagePreview=document.getElementById("image-preview"),this.qrResult=document.getElementById("qr-result"),this.qrCanvas=document.getElementById("qr-canvas"),this.downloadBtn=document.getElementById("download-btn"),this.sizeButtons=document.querySelectorAll(".size-btn"),this.styleButtons=document.querySelectorAll(".style-btn"),this.qrPreviewSection=document.getElementById("qr-preview-section"),this.bindEvents();const w=document.getElementById("clear-qr-color");w&&w.addEventListener("click",()=>{this.qrColorInput.value="#000000",this.qrColorHexInput.value="#000000",this.qrColorDisplay.style.backgroundColor="#000000",this.setColor("qr","#000000")});const C=document.getElementById("clear-bg-color");C&&C.addEventListener("click",()=>{this.bgColorInput.value="#ffffff",this.bgColorHexInput.value="#ffffff",this.bgColorDisplay.style.backgroundColor="#ffffff",this.setColor("bg","#ffffff")});const x=document.getElementById("logo-container"),A=x?x.querySelector("h1"):null;x&&A?(x.addEventListener("mouseenter",()=>{x.classList.add("logo-animate"),A.classList.add("text-animate")}),x.addEventListener("mouseleave",()=>{x.classList.remove("logo-animate"),A.classList.remove("text-animate")})):console.warn("Logo container or h1 element not found for animation."),this.updateQRCode(),this.initDarkMode()}initDarkMode(){const w=document.getElementById("dark-mode-toggle"),C=document.body,x=()=>{C.classList.add("dark-mode"),w.textContent="☀️",localStorage.setItem("darkMode","enabled")},A=()=>{C.classList.remove("dark-mode"),w.textContent="🌙",localStorage.setItem("darkMode","disabled")};localStorage.getItem("darkMode")==="disabled"?A():x(),w.addEventListener("click",()=>{C.classList.contains("dark-mode")?A():x()})}bindEvents(){this.generateBtn.addEventListener("click",()=>this.generateQRCode()),this.urlInput.addEventListener("keypress",w=>{w.key==="Enter"&&this.generateQRCode()}),this.uploadArea.addEventListener("click",()=>this.fileInput.click()),this.fileInput.addEventListener("change",w=>this.handleFileUpload(w)),this.uploadArea.addEventListener("dragover",w=>this.handleDragOver(w)),this.uploadArea.addEventListener("dragleave",w=>this.handleDragLeave(w)),this.uploadArea.addEventListener("drop",w=>this.handleDrop(w)),this.downloadBtn.addEventListener("click",()=>this.downloadQRCode()),this.qrColorDisplay.addEventListener("click",()=>this.qrColorInput.click()),this.qrColorInput.addEventListener("input",()=>this.setColor("qr",this.qrColorInput.value)),this.qrColorHexInput.addEventListener("input",()=>this.setColor("qr",this.qrColorHexInput.value)),this.clearQrColorBtn.addEventListener("click",()=>this.setColor("qr","#000000")),this.bgColorDisplay.addEventListener("click",()=>this.bgColorInput.click()),this.bgColorInput.addEventListener("input",()=>this.setColor("bg",this.bgColorInput.value)),this.bgColorHexInput.addEventListener("input",()=>this.setColor("bg",this.bgColorHexInput.value)),this.clearBgColorBtn.addEventListener("click",()=>this.setColor("bg","#FFFFFF")),this.sizeButtons.forEach(w=>{w.addEventListener("click",C=>{this.sizeButtons.forEach(x=>x.classList.remove("active")),w.classList.add("active"),this.currentSize=parseInt(w.dataset.size),this.updatePreview(),this.updateQRCode()})}),this.styleButtons.forEach(w=>{w.addEventListener("click",C=>{this.styleButtons.forEach(x=>x.classList.remove("active")),w.classList.add("active"),this.currentStyle=w.dataset.style,this.updatePreview(),this.updateQRCode()})}),this.qrColorInput.addEventListener("change",()=>this.updateQRCode()),this.bgColorInput.addEventListener("change",()=>this.updateQRCode()),this.urlInput.addEventListener("input",()=>this.updateQRCode()),this.updateColorDisplay("qr","#000000"),this.updateColorDisplay("bg","#ffffff")}handleDragOver(w){w.preventDefault(),this.uploadArea.classList.add("dragover")}handleDragLeave(w){w.preventDefault(),this.uploadArea.classList.remove("dragover")}handleDrop(w){w.preventDefault(),this.uploadArea.classList.remove("dragover");const C=w.dataTransfer.files;C.length>0&&this.processFile(C[0])}handleFileUpload(w){const C=w.target.files[0];C&&this.processFile(C)}processFile(w){if(!w.type.startsWith("image/")){this.showMessage("Please select an image file.","error");return}if(w.size>2*1024*1024){this.showMessage("Image size should be less than 2MB.","error");return}const C=new FileReader;C.onload=x=>{this.centerImage=new Image,this.centerImage.onload=()=>{this.showImagePreview(x.target.result),this.updateQRCode(),this.updatePreview()},this.centerImage.src=x.target.result},C.readAsDataURL(w)}showImagePreview(w){if(w){this.imageFile=w;const C=new FileReader;C.onload=x=>{const A=document.getElementById("image-preview");A.innerHTML=`
                    <img src="${x.target.result}" alt="Image Preview" class="preview-image">
                    <button type="button" id="remove-image-btn" class="remove-image-btn" title="Remove image">&times;</button>
                `,document.getElementById("remove-image-btn").addEventListener("click",()=>this.removeImage()),this.updateQRCode()},C.readAsDataURL(w)}}removeImage(){this.centerImage=null,this.imagePreview.innerHTML="",this.fileInput.value="",this.updateQRCode(),this.updatePreview()}generateQRCode(){const w=this.urlInput.value.trim();if(!w){this.showMessage("Please enter some text or URL.","error");return}this.showMessage("Generating QR Code...","loading"),this.renderQRCode(w)}updateQRCode(){this.urlInput.value.trim()&&this.scheduleUpdate()}getStyleType(w){return w==="dot"||w==="dots"?"dots":w==="rounded"?"extra-rounded":w}renderQRCode(w){const C={width:this.currentSize,height:this.currentSize,data:w,image:this.centerImage?this.centerImage.src:void 0,dotsOptions:{color:this.qrColorInput.value,type:this.getStyleType(this.currentStyle)},backgroundOptions:{color:this.bgColorInput.value},imageOptions:{crossOrigin:"anonymous",margin:0,imageSize:.35}},x=document.querySelector(".qr-code-container");x&&(this.qrStyler?this.qrStyler.update(C):(this.qrStyler=new xt(C),x.innerHTML="",this.qrStyler.append(x)),this.qrCanvas=x.querySelector("canvas")||null,document.getElementById("qr-result").style.display="block")}updatePreview(){}downloadQRCode(){this.qrStyler&&this.qrStyler.download({name:"qrcode",extension:"png"})}setColor(w,C){let x=C;x.startsWith("#")||(x="#"+x),/^#[0-9A-Fa-f]{6}$/.test(x)&&(w==="qr"?(this.qrColorInput.value=x,this.qrColorHexInput.value=x.toUpperCase(),this.qrColorDisplay.style.backgroundColor=x):(this.bgColorInput.value=x,this.bgColorHexInput.value=x.toUpperCase(),this.bgColorDisplay.style.backgroundColor=x),this.updateQRCode())}selectSize(w){this.sizeButtons.forEach(C=>C.classList.remove("active")),w.classList.add("active"),this.currentSize=parseInt(w.dataset.size),this.updateQRCode()}selectStyle(w){this.styleButtons.forEach(C=>C.classList.remove("active")),w.classList.add("active"),this.currentStyle=w.dataset.style,this.updateQRCode()}processFile(w){if(!w.type.startsWith("image/")){this.showMessage("Please select an image file.","error");return}if(w.size>2*1024*1024){this.showMessage("Image size should be less than 2MB.","error");return}const C=new FileReader;C.onload=x=>{this.centerImage=new Image,this.centerImage.onload=()=>{this.showImagePreview(x.target.result),this.updateQRCode(),this.updatePreview()},this.centerImage.src=x.target.result},C.readAsDataURL(w)}removeImage(){this.centerImage=null,this.imagePreview.innerHTML="",this.fileInput.value="",this.updateQRCode(),this.updatePreview()}showMessage(w,C){document.querySelectorAll(".error-message, .success-message, .loading-message").forEach(R=>R.remove());const A=document.createElement("div");C==="loading"?(A.innerHTML=`<span class="loading"></span>${w}`,A.className="success-message"):(A.textContent=w,A.className=C==="error"?"error-message":"success-message");const T=document.querySelector(".input-section");T.parentNode.insertBefore(A,T.nextSibling),C!=="error"&&setTimeout(()=>{A.parentNode&&A.remove()},3e3)}clearMessage(){document.querySelectorAll(".error-message, .success-message, .loading-message").forEach(C=>C.remove())}updateColorDisplay(w,C){w==="qr"?(this.qrColorDisplay.style.backgroundColor=C,this.qrColorValue.textContent=C.toUpperCase()):w==="bg"&&(this.bgColorDisplay.style.backgroundColor=C,this.bgColorValue.textContent=C.toUpperCase()),this.updateQRCode()}}document.addEventListener("DOMContentLoaded",()=>{window.qrGenerator=new It});
