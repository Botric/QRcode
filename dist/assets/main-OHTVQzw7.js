(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const l=(i,e)=>{let t;return(...s)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...s),e)}};class d{constructor(){this.centerImage=null,this.qrCanvas=null,this.qrPreviewStyler=null,this.qrStyler=null,this.currentSize=300,this.currentStyle="square",this.scheduleUpdate=l(()=>{var t,s;const e=(s=(t=this.urlInput)==null?void 0:t.value)==null?void 0:s.trim();e&&this.renderQRCode(e)},150),this.init()}init(){this.urlInput=document.getElementById("url-input"),this.generateBtn=document.getElementById("generate-btn"),this.qrColorInput=document.getElementById("qr-color"),this.qrColorHexInput=document.getElementById("qr-color-hex"),this.qrColorDisplay=document.getElementById("qr-color-display"),this.bgColorInput=document.getElementById("bg-color"),this.bgColorHexInput=document.getElementById("bg-color-hex"),this.bgColorDisplay=document.getElementById("bg-color-display"),this.clearQrColorBtn=document.getElementById("clear-qr-color"),this.clearBgColorBtn=document.getElementById("clear-bg-color"),this.fileInput=document.getElementById("file-input"),this.uploadArea=document.getElementById("upload-area"),this.imagePreview=document.getElementById("image-preview"),this.qrResult=document.getElementById("qr-result"),this.qrCanvas=document.getElementById("qr-canvas"),this.downloadBtn=document.getElementById("download-btn"),this.sizeButtons=document.querySelectorAll(".size-btn"),this.styleButtons=document.querySelectorAll(".style-btn"),this.qrPreviewSection=document.getElementById("qr-preview-section"),this.bindEvents();const e=document.getElementById("clear-qr-color");e&&e.addEventListener("click",()=>{this.qrColorInput.value="#000000",this.qrColorHexInput.value="#000000",this.qrColorDisplay.style.backgroundColor="#000000",this.setColor("qr","#000000")});const t=document.getElementById("clear-bg-color");t&&t.addEventListener("click",()=>{this.bgColorInput.value="#ffffff",this.bgColorHexInput.value="#ffffff",this.bgColorDisplay.style.backgroundColor="#ffffff",this.setColor("bg","#ffffff")});const s=document.getElementById("logo-container"),r=s?s.querySelector("h1"):null;s&&r?(s.addEventListener("mouseenter",()=>{s.classList.add("logo-animate"),r.classList.add("text-animate")}),s.addEventListener("mouseleave",()=>{s.classList.remove("logo-animate"),r.classList.remove("text-animate")})):console.warn("Logo container or h1 element not found for animation."),this.updateQRCode(),this.initDarkMode()}initDarkMode(){const e=document.getElementById("dark-mode-toggle"),t=document.body,s=()=>{t.classList.add("dark-mode"),e.textContent="â˜€ï¸",localStorage.setItem("darkMode","enabled")},r=()=>{t.classList.remove("dark-mode"),e.textContent="ðŸŒ™",localStorage.setItem("darkMode","disabled")};localStorage.getItem("darkMode")==="disabled"?r():s(),e.addEventListener("click",()=>{t.classList.contains("dark-mode")?r():s()})}bindEvents(){this.generateBtn.addEventListener("click",()=>this.generateQRCode()),this.urlInput.addEventListener("keypress",e=>{e.key==="Enter"&&this.generateQRCode()}),this.uploadArea.addEventListener("click",()=>this.fileInput.click()),this.fileInput.addEventListener("change",e=>this.handleFileUpload(e)),this.uploadArea.addEventListener("dragover",e=>this.handleDragOver(e)),this.uploadArea.addEventListener("dragleave",e=>this.handleDragLeave(e)),this.uploadArea.addEventListener("drop",e=>this.handleDrop(e)),this.downloadBtn.addEventListener("click",()=>this.downloadQRCode()),this.qrColorDisplay.addEventListener("click",()=>this.qrColorInput.click()),this.qrColorInput.addEventListener("input",()=>this.setColor("qr",this.qrColorInput.value)),this.qrColorHexInput.addEventListener("input",()=>this.setColor("qr",this.qrColorHexInput.value)),this.clearQrColorBtn.addEventListener("click",()=>this.setColor("qr","#000000")),this.bgColorDisplay.addEventListener("click",()=>this.bgColorInput.click()),this.bgColorInput.addEventListener("input",()=>this.setColor("bg",this.bgColorInput.value)),this.bgColorHexInput.addEventListener("input",()=>this.setColor("bg",this.bgColorHexInput.value)),this.clearBgColorBtn.addEventListener("click",()=>this.setColor("bg","#FFFFFF")),this.sizeButtons.forEach(e=>{e.addEventListener("click",t=>{this.sizeButtons.forEach(s=>s.classList.remove("active")),e.classList.add("active"),this.currentSize=parseInt(e.dataset.size),this.updatePreview(),this.updateQRCode()})}),this.styleButtons.forEach(e=>{e.addEventListener("click",t=>{this.styleButtons.forEach(s=>s.classList.remove("active")),e.classList.add("active"),this.currentStyle=e.dataset.style,this.updatePreview(),this.updateQRCode()})}),this.qrColorInput.addEventListener("change",()=>this.updateQRCode()),this.bgColorInput.addEventListener("change",()=>this.updateQRCode()),this.urlInput.addEventListener("input",()=>this.updateQRCode()),this.updateColorDisplay("qr","#000000"),this.updateColorDisplay("bg","#ffffff")}handleDragOver(e){e.preventDefault(),this.uploadArea.classList.add("dragover")}handleDragLeave(e){e.preventDefault(),this.uploadArea.classList.remove("dragover")}handleDrop(e){e.preventDefault(),this.uploadArea.classList.remove("dragover");const t=e.dataTransfer.files;t.length>0&&this.processFile(t[0])}handleFileUpload(e){const t=e.target.files[0];t&&this.processFile(t)}processFile(e){if(!e.type.startsWith("image/")){this.showMessage("Please select an image file.","error");return}if(e.size>2*1024*1024){this.showMessage("Image size should be less than 2MB.","error");return}const t=new FileReader;t.onload=s=>{this.centerImage=new Image,this.centerImage.onload=()=>{this.showImagePreview(s.target.result),this.updateQRCode(),this.updatePreview()},this.centerImage.src=s.target.result},t.readAsDataURL(e)}showImagePreview(e){if(e){this.imageFile=e;const t=new FileReader;t.onload=s=>{const r=document.getElementById("image-preview");r.innerHTML=`
                    <img src="${s.target.result}" alt="Image Preview" class="preview-image">
                    <button type="button" id="remove-image-btn" class="remove-image-btn" title="Remove image">&times;</button>
                `,document.getElementById("remove-image-btn").addEventListener("click",()=>this.removeImage()),this.updateQRCode()},t.readAsDataURL(e)}}removeImage(){this.centerImage=null,this.imagePreview.innerHTML="",this.fileInput.value="",this.updateQRCode(),this.updatePreview()}generateQRCode(){const e=this.urlInput.value.trim();if(!e){this.showMessage("Please enter some text or URL.","error");return}this.showMessage("Generating QR Code...","loading"),this.renderQRCode(e)}updateQRCode(){this.urlInput.value.trim()&&this.scheduleUpdate()}getStyleType(e){return e==="dot"||e==="dots"?"dots":e==="rounded"?"extra-rounded":e}renderQRCode(e){if(!window.QRCodeStyling){this.showMessage("QR code styling library not loaded.","error");return}const t={width:this.currentSize,height:this.currentSize,data:e,image:this.centerImage?this.centerImage.src:void 0,dotsOptions:{color:this.qrColorInput.value,type:this.getStyleType(this.currentStyle)},backgroundOptions:{color:this.bgColorInput.value},imageOptions:{crossOrigin:"anonymous",margin:0,imageSize:.35}},s=document.querySelector(".qr-code-container");s&&(this.qrStyler?this.qrStyler.update(t):(this.qrStyler=new QRCodeStyling(t),s.innerHTML="",this.qrStyler.append(s)),this.qrCanvas=s.querySelector("canvas")||null,document.getElementById("qr-result").style.display="block")}updatePreview(){}downloadQRCode(){this.qrStyler&&this.qrStyler.download({name:"qrcode",extension:"png"})}setColor(e,t){let s=t;s.startsWith("#")||(s="#"+s),/^#[0-9A-Fa-f]{6}$/.test(s)&&(e==="qr"?(this.qrColorInput.value=s,this.qrColorHexInput.value=s.toUpperCase(),this.qrColorDisplay.style.backgroundColor=s):(this.bgColorInput.value=s,this.bgColorHexInput.value=s.toUpperCase(),this.bgColorDisplay.style.backgroundColor=s),this.updateQRCode())}selectSize(e){this.sizeButtons.forEach(t=>t.classList.remove("active")),e.classList.add("active"),this.currentSize=parseInt(e.dataset.size),this.updateQRCode()}selectStyle(e){this.styleButtons.forEach(t=>t.classList.remove("active")),e.classList.add("active"),this.currentStyle=e.dataset.style,this.updateQRCode()}processFile(e){if(!e.type.startsWith("image/")){this.showMessage("Please select an image file.","error");return}if(e.size>2*1024*1024){this.showMessage("Image size should be less than 2MB.","error");return}const t=new FileReader;t.onload=s=>{this.centerImage=new Image,this.centerImage.onload=()=>{this.showImagePreview(s.target.result),this.updateQRCode(),this.updatePreview()},this.centerImage.src=s.target.result},t.readAsDataURL(e)}removeImage(){this.centerImage=null,this.imagePreview.innerHTML="",this.fileInput.value="",this.updateQRCode(),this.updatePreview()}showMessage(e,t){document.querySelectorAll(".error-message, .success-message, .loading-message").forEach(n=>n.remove());const r=document.createElement("div");t==="loading"?(r.innerHTML=`<span class="loading"></span>${e}`,r.className="success-message"):(r.textContent=e,r.className=t==="error"?"error-message":"success-message");const o=document.querySelector(".input-section");o.parentNode.insertBefore(r,o.nextSibling),t!=="error"&&setTimeout(()=>{r.parentNode&&r.remove()},3e3)}clearMessage(){document.querySelectorAll(".error-message, .success-message, .loading-message").forEach(t=>t.remove())}updateColorDisplay(e,t){e==="qr"?(this.qrColorDisplay.style.backgroundColor=t,this.qrColorValue.textContent=t.toUpperCase()):e==="bg"&&(this.bgColorDisplay.style.backgroundColor=t,this.bgColorValue.textContent=t.toUpperCase()),this.updateQRCode()}}function a(i,e=20){window.QRCodeStyling?i():e>0?setTimeout(()=>a(i,e-1),150):document.body.insertAdjacentHTML("afterbegin",'<div class="error-message">QR code styling library failed to load.</div>')}a(()=>{window.qrGenerator=new d});document.addEventListener("DOMContentLoaded",()=>{const i=document.getElementById("dark-mode-toggle"),e=document.body;if(!i)return;const t=()=>{e.classList.add("dark-mode"),i.textContent="â˜€ï¸",localStorage.setItem("darkMode","enabled")},s=()=>{e.classList.remove("dark-mode"),i.textContent="ðŸŒ™",localStorage.setItem("darkMode","disabled")};localStorage.getItem("darkMode")==="disabled"?s():t(),i.addEventListener("click",()=>{e.classList.contains("dark-mode")?s():t()})});
